<odoo>
    <data>
        <record id="group_forher_payroll_user" model="res.groups">
            <field name="name">Nhóm người dùng tính lương</field>
            <field name="category_id" ref="base.module_category_human_resources"/>
        </record>

        <record id="group_forher_payroll_accountant" model="res.groups">
            <field name="name">Nhóm kế toán tính lương</field>
            <field name="category_id" ref="base.module_category_human_resources"/>
        </record>

        <record id="group_forher_payroll_manager" model="res.groups">
            <field name="name">Nhóm quản lý tính lương</field>
            <field name="category_id" ref="base.module_category_human_resources"/>
        </record>


        <record id="forher_payroll_rule_employee_self" model="ir.rule">
            <field name="name">Quyền xem phiếu lương cá nhân</field>
            <field name="model_id" ref="model_forher_payslip"/>
            <field name="groups" eval="[(4, ref('forher_payroll.group_forher_payroll_user'))]"/>
            <field name="domain_force">['|', ('employee_id.user_id', '=', user.id), ('employee_id', '=', user.employee_id.id)]</field>
        </record>

        <record id="forher_payroll_rule_employee_lines" model="ir.rule">
            <field name="name">Quyền xem chi tiết phiếu lương cá nhân</field>
            <field name="model_id" ref="model_forher_payslip_line"/>
            <field name="groups" eval="[(4, ref('forher_payroll.group_forher_payroll_user'))]"/>
            <field name="domain_force">['|', ('payslip_id.employee_id.user_id', '=', user.id), ('payslip_id.employee_id', '=', user.employee_id.id)]</field>
        </record>

        <record id="forher_payroll_rule_manager_all" model="ir.rule">
            <field name="name">Quyền quản lý phiếu lương</field>
            <field name="model_id" ref="model_forher_payslip"/>
            <field name="groups" eval="[(4, ref('forher_payroll.group_forher_payroll_manager')), (4, ref('forher_payroll.group_forher_payroll_accountant'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id="forher_payroll_rule_manager_lines" model="ir.rule">
            <field name="name">Quyền quản lý chi tiết phiếu lương</field>
            <field name="model_id" ref="model_forher_payslip_line"/>
            <field name="groups" eval="[(4, ref('forher_payroll.group_forher_payroll_manager')), (4, ref('forher_payroll.group_forher_payroll_accountant'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id="forher_payroll_sales_rule_manager" model="ir.rule">
            <field name="name">Quyền quản lý dữ liệu doanh số</field>
            <field name="model_id" ref="model_forher_payroll_sales_data"/>
            <field name="groups" eval="[(4, ref('forher_payroll.group_forher_payroll_manager')), (4, ref('forher_payroll.group_forher_payroll_accountant'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id="forher_payroll_rule_branch_manager" model="ir.rule">
            <field name="name">Quyền xem phiếu lương theo chi nhánh</field>
            <field name="model_id" ref="model_forher_payslip"/>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
            <field name="domain_force">[('employee_id.company_id', 'in', user.company_ids.ids)]</field>
        </record>

        <record id="forher_payroll_rule_branch_manager_lines" model="ir.rule">
            <field name="name">Quyền xem chi tiết lương theo chi nhánh</field>
            <field name="model_id" ref="model_forher_payslip_line"/>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
            <field name="domain_force">[('payslip_id.employee_id.company_id', 'in', user.company_ids.ids)]</field>
        </record>

        <record id="forher_payroll_payslip_employee_rule" model="ir.rule">
    <field name="name">Payslip Employee</field>
    <field name="model_id" ref="model_forher_payslip"/>
    <field name="domain_force">[('employee_id.user_id','=',user.id)]</field>
    <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_employee'))]"/>
</record>

<record id="forher_payroll_payslip_branch_manager_rule" model="ir.rule">
    <field name="name">Payslip Branch Manager</field>
    <field name="model_id" ref="model_forher_payslip"/>
    <field name="domain_force">[('employee_id.company_id','=',user.company_id.id)]</field>
    <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
</record>

<record id="forher_payroll_payslip_admin_rule" model="ir.rule">
    <field name="name">Payslip Admin</field>
    <field name="model_id" ref="model_forher_payslip"/>
    <field name="domain_force">[('id','!=',False)]</field>
    <field name="groups" eval="[(4, ref('base.group_system'))]"/>
</record>

    </data>
</odoo>
