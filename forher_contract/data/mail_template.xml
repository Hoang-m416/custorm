<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Contract Approval Request Template -->
        <record id="forher_contract_approval_request_template" model="mail.template">
            <field name="name">Contract Approval Request</field>
            <field name="model_id" ref="model_forher_hr_contract"/>
            <field name="subject">Contract Approval Request - {{ object.name }}</field>
            <field name="email_from">{{ object.create_uid.email or '' }}</field>
            <field name="email_to">{{ ctx.get('email_to', '') }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear Board Members,</p>
                    <p>A new contract has been submitted for approval and requires your review.</p>

                    <h3>Contract Details:</h3>
                    <ul>
                        <li><strong>Contract Name:</strong> <t t-out="object.name"/></li>
                        <li><strong>Employee:</strong> <t t-out="object.employee_id.name if object.employee_id else 'Not assigned'"/></li>
                        <li><strong>Job Position:</strong> <t t-out="object.job_id.name if object.job_id else 'Not specified'"/></li>
                        <li><strong>Department:</strong> <t t-out="object.department_id.name if object.department_id else 'Not specified'"/></li>
                        <li><strong>Start Date:</strong> <t t-out="object.date_start if object.date_start else 'Not specified'"/></li>
                        <li><strong>End Date:</strong> <t t-out="object.date_end if object.date_end else 'Open-ended'"/></li>
                        <li><strong>Wage:</strong> <t t-out="object.wage if object.wage else 'Not specified'"/></li>
                        <li><strong>Submitted by:</strong> <t t-out="object.create_uid.name"/></li>
                        <li><strong>Submission Date:</strong> <t t-out="object.write_date.strftime('%Y-%m-%d %H:%M:%S') if object.write_date else ''"/></li>
                    </ul>

                    <p>Please review and take appropriate action on this contract.</p>

                    <p>
                        <a t-att-href="'/odoo/action-forher_contract.forher_hr_contract_action/%s' % object.id"
                           style="background-color: #875A7B; padding: 8px 16px; text-decoration: none; color: #fff; border-radius: 5px;">
                            View Contract
                        </a>
                    </p>

                    <p>Best regards,<br/><t t-out="object.create_uid.name"/><br/></p>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Contract Expiry Notification Template -->
        <record id="forher_contract_expiry_notification_template" model="mail.template">
            <field name="name">Contract Expiry Notification</field>
            <field name="model_id" ref="model_forher_hr_contract"/>
            <field name="subject">Th√¥ng b√°o h·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n - {{ object.name }}</field>
            <field name="email_from">{{ object.create_uid.email or '' }}</field>
            <field name="email_to">{{ ctx.get('email_to', '') }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px;">
                        <h2 style="color: #dc3545; margin-top: 0;">‚ö†Ô∏è Th√¥ng b√°o h·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n</h2>
                        <p>K√≠nh g·ª≠i Qu√Ω Branch Manager,</p>
                        <p>ƒê√¢y l√† th√¥ng b√°o t·ª± ƒë·ªông v·ªÅ h·ª£p ƒë·ªìng lao ƒë·ªông s·∫Øp h·∫øt h·∫°n trong th√°ng n√†y v√† c·∫ßn s·ª± ch√∫ √Ω c·ªßa qu√Ω v·ªã.</p>

                        <div style="background-color: #fff; padding: 15px; border-left: 4px solid #dc3545; margin: 20px 0; border-radius: 4px;">
                            <h3 style="color: #dc3545; margin-top: 0;">üìã Th√¥ng tin h·ª£p ƒë·ªìng:</h3>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold; width: 180px;">T√™n h·ª£p ƒë·ªìng:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.name"/></td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">Nh√¢n vi√™n:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.employee_id.name if object.employee_id else 'Ch∆∞a ph√¢n c√¥ng'"/></td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">M√£ nh√¢n vi√™n:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.employee_id.employee_code if object.employee_id.employee_code else 'N/A'"/></td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">Ch·ª©c v·ª•:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.job_id.name if object.job_id else 'Ch∆∞a x√°c ƒë·ªãnh'"/></td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">Ph√≤ng ban:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.department_id.name if object.department_id else 'Ch∆∞a x√°c ƒë·ªãnh'"/></td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">Ng√†y b·∫Øt ƒë·∫ßu:</td>
                                    <td style="padding: 8px 0;"><t t-out="object.date_start.strftime('%d/%m/%Y') if object.date_start else 'Ch∆∞a x√°c ƒë·ªãnh'"/></td>
                                </tr>
                                <tr style="background-color: #ffe6e6;">
                                    <td style="padding: 8px 0; font-weight: bold; color: #dc3545;">Ng√†y k·∫øt th√∫c:</td>
                                    <td style="padding: 8px 0; color: #dc3545; font-weight: bold;"><t t-out="object.date_end.strftime('%d/%m/%Y') if object.date_end else 'Kh√¥ng x√°c ƒë·ªãnh'"/></td>
                                </tr>
                                <tr style="background-color: #ffe6e6;">
                                    <td style="padding: 8px 0; font-weight: bold; color: #dc3545;">S·ªë ng√†y c√≤n l·∫°i:</td>
                                    <td style="padding: 8px 0; color: #dc3545; font-weight: bold;"><t t-out="ctx.get('days_until_expiry', 'N/A')"/> ng√†y</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">M·ª©c l∆∞∆°ng:</td>
                                    <td style="padding: 8px 0;"><t t-out="'{:,.0f}'.format(object.wage) if object.wage else 'Ch∆∞a x√°c ƒë·ªãnh'"/> VND</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; font-weight: bold;">Tr·∫°ng th√°i hi·ªán t·∫°i:</td>
                                    <td style="padding: 8px 0;">
                                        <span t-if="object.state == 'open'" style="background-color: #28a745; color: white; padding: 3px 8px; border-radius: 4px; font-size: 12px;">ƒêang ch·∫°y</span>
                                        <span t-if="object.state == 'waiting_approval'" style="background-color: #ffc107; color: black; padding: 3px 8px; border-radius: 4px; font-size: 12px;">Ch·ªù ph√™ duy·ªát</span>
                                        <span t-if="object.state == 'draft'" style="background-color: #6c757d; color: white; padding: 3px 8px; border-radius: 4px; font-size: 12px;">B·∫£n nh√°p</span>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div style="background-color: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 20px 0; border-radius: 4px;">
                            <h4 style="color: #856404; margin-top: 0;">üìå H√†nh ƒë·ªông c·∫ßn th·ª±c hi·ªán:</h4>
                            <ul style="color: #856404; margin: 10px 0; padding-left: 20px;">
                                <li>Xem x√©t gia h·∫°n h·ª£p ƒë·ªìng n·∫øu c·∫ßn thi·∫øt</li>
                                <li>Th·ª±c hi·ªán quy tr√¨nh ch·∫•m d·ª©t h·ª£p ƒë·ªìng n·∫øu kh√¥ng gia h·∫°n</li>
                                <li>Chu·∫©n b·ªã c√°c th·ªß t·ª•c ph√°p l√Ω li√™n quan</li>
                                <li>Th√¥ng b√°o cho nh√¢n vi√™n v·ªÅ t√¨nh tr·∫°ng h·ª£p ƒë·ªìng</li>
                            </ul>
                        </div>

                        <div style="text-align: center; margin: 30px 0;">
                            <a t-att-href="'/odoo/action-forher_contract.forher_hr_contract_action/%s' % object.id"
                               style="background-color: #dc3545; padding: 12px 24px; text-decoration: none; color: #fff; border-radius: 6px; font-weight: bold; display: inline-block;">
                                üîç Xem chi ti·∫øt h·ª£p ƒë·ªìng
                            </a>
                        </div>

                        <hr style="border: none; border-top: 1px solid #dee2e6; margin: 30px 0;"/>

                        <p style="font-size: 14px; color: #6c757d; margin-bottom: 0;">
                            <strong>L∆∞u √Ω:</strong> ƒê√¢y l√† email th√¥ng b√°o t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng ForHer HR. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
                        </p>
                        <p style="font-size: 14px; color: #6c757d;">
                            Tr√¢n tr·ªçng,<br/>
                            <strong>H·ªá th·ªëng ForHer HR</strong><br/>
                            üìß Email: hr@forher.com | üìû Hotline: 1900-xxxx
                        </p>
                    </div>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>
