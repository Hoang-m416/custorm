<odoo>
    <data noupdate="1">

        <!-- ================= Access Rights ================= -->
        <!-- Ban Giám đốc: toàn quyền -->
        <record id="access_recruitment_request_board" model="ir.model.access">
            <field name="name">Access Recruitment Requests - Board</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="group_id" ref="forher_company_overview.forher_group_board"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="1"/>
        </record>

        <record id="access_recruitment_request_manager" model="ir.model.access">
            <field name="name">Access Recruitment Requests - Manager</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="group_id" ref="forher_company_overview.forher_group_branch_manager"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
        </record>

        <record id="access_recruitment_request_employee" model="ir.model.access">
            <field name="name">Access Recruitment Requests - Employee</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="group_id" ref="base.group_user"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>

        <!-- ================= Record Rules ================= -->
        <!-- Ban Giám đốc: thấy tất cả -->
        <record id="recruitment_request_board_rule" model="ir.rule">
            <field name="name">Recruitment Request - Board</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_board'))]"/>
        </record>

        <!-- Quản lý: chỉ thấy dữ liệu trong công ty của mình -->
        <record id="recruitment_request_manager_rule" model="ir.rule">
            <field name="name">Recruitment Request - Manager</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="domain_force">[
                ('company_id', 'in', user.company_ids.ids)
            ]</field>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
        </record>

        <!-- Nhân viên: chỉ xem yêu cầu gắn với mình -->
        <record id="recruitment_request_employee_rule" model="ir.rule">
            <field name="name">Recruitment Request - Employee</field>
            <field name="model_id" ref="model_recruitment_request"/>
            <field name="domain_force">[
                ('employee_id', 'in', user.employee_ids.ids)
            ]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Applicant -->
        <record id="applicant_manager_rule" model="ir.rule">
            <field name="name">Applicant - Manager</field>
            <field name="model_id" ref="model_forher_applicant"/>
            <field name="domain_force">[
                ('company_id', 'in', user.company_ids.ids)
            ]</field>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
        </record>

        <!-- Interview -->
        <record id="interview_manager_rule" model="ir.rule">
            <field name="name">Interview - Manager</field>
            <field name="model_id" ref="model_forher_interview"/>
            <field name="domain_force">[('applicant_id.request_id.company_id','in',company_ids)]</field>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
        </record>

        <!-- Offer Letter -->
        <record id="offer_letter_manager_rule" model="ir.rule">
            <field name="name">Offer Letter - Manager</field>
            <field name="model_id" ref="model_forher_offer_letter"/>
            <field name="groups" eval="[(4, ref('forher_company_overview.forher_group_branch_manager'))]"/>
        </record>

    </data>
</odoo>
